<?xml version="1.0" encoding="ISO-8859-1"?>
<ui:composition 
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core">
  	
	  
	<h:panelGrid columns="4" columnClasses="coluna16, coluna16, coluna16, coluna52" style="width: 100%">
			  		
		<p:outputLabel for="tipoAgenda" value="Tipo de Agenda" />
		<p:outputLabel for="dataInicioAgenda" value="Data Início" />
		<p:outputLabel for="dataFimAgenda" value="Data Fim" />
		<p:outputLabel for="processoAgenda" value="Processo" />
		
		<p:selectOneMenu id="tipoAgenda" value="#{agendaFaces.agenda.tipoAgenda.id}" required="true" requiredMessage="Tipo de Agenda: Campo obrigatório">
			<f:selectItem itemLabel="Não Selecionado" itemValue="" />
			<f:selectItems value="#{agendaFaces.tiposAgendas}" />
		</p:selectOneMenu>
		<p:calendar id="dataInicioAgenda" pattern="dd/MM/yyyy HH:mm" required="true" requiredMessage="Data: Campo obrigatório" value="#{agendaFaces.agenda.dataInicial}" />
		<p:calendar id="dataFimAgenda" pattern="dd/MM/yyyy HH:mm" required="true" requiredMessage="Data: Campo obrigatório" value="#{agendaFaces.agenda.dataFinal}" />
		<p:outputPanel autoUpdate="true" style="width:100%">
			<p:inputText id="processoAgenda" value="#{agendaFaces.agenda.processoNumero.numero}" readonly="true" style="width:65%"/>
			<p:commandButton type="button" icon="ui-icon-plus" value="Add" onclick="dlgProcesso3.show();" />
		</p:outputPanel>
		
	</h:panelGrid>
	
	<h:panelGrid style="width: 100%">

		<p:outputLabel for="descricaoAgenda" value="Descrição" />
		<p:inputTextarea id="descricaoAgenda" value="#{agendaFaces.agenda.descricao}" required="true" requiredMessage="Descrição: Campo obrigatório" cols="105" rows="10"/>
	
	</h:panelGrid>

	<h:panelGrid columns="2" columnClasses="coluna50_3, coluna50_3">
		<p:commandButton type="button" value="Add Colaborador" onclick="dlgColaborador2.show();" style="margin-top: 10px; margin-right: 10px"/>
		<h:panelGrid columns="1">
			<p:outputLabel for="flagGeralAgenda" value="Geral" />
			<p:selectBooleanCheckbox id="flagGeralAgenda" value="#{agendaFaces.agenda.flagGeral}" />
		</h:panelGrid>
	</h:panelGrid>
	
	<p:dataTable id="dtAgendasColaboradores" value="#{agendaFaces.agenda.agendasColaboradores}" var="agendaColaborador"
				emptyMessage="Nenhum colaborador adicionado" style="width:98%">
		
		<p:column headerText="Nome" styleClass="coluna20">
			<h:outputText value="#{agendaColaborador.colaborador.apelido}" />
		</p:column>
		
		<p:column headerText="Mensagem individual" styleClass="coluna75">
			<p:inputText value="#{agendaColaborador.descricao}" maxlength="200" styleClass="coluna97"/>
		</p:column>
		
		<p:column headerText="Status" styleClass="coluna5">
			<h:outputText value="#{agendaColaborador.status}" title="#{agendaColaborador.textoResposta}" styleClass="#{agendaColaborador.css}" />
		</p:column>
		
		<p:column headerText="Excluir" styleClass="coluna5">
			<p:commandLink action="#{agendaFaces.removerAgendaColaborador}" oncomplete="atualizarAgendasColaboradores();" process="@this" icon="delete16" global="false">
			<h:graphicImage value="../resources/images/delete16.png" style="border: 0px" />
				<f:setPropertyActionListener target="#{agendaFaces.agendaColaboradorSelecionado}" value="#{agendaColaborador}" />
			</p:commandLink>
		</p:column>
	
	</p:dataTable>
		
	<p:commandButton value="Salvar" action="#{agendaFaces.salvar}" oncomplete="handleRequestFaces('dialogAgenda', dlgAgenda, args)" update="opDialogAgenda" style="margin-top: 10px" />
	
</ui:composition>